#include <iostream.h>
#include <conio.h>
#include <time.h>

void merge(int a[], int l, int m, int r)
{
    int i = l, j = m + 1, k = l;
    int temp[50];

    while (i <= m && j <= r)
    {
        if (a[i] <= a[j])
            temp[k++] = a[i++];
        else
            temp[k++] = a[j++];
    }

    while (i <= m)
        temp[k++] = a[i++];

    while (j <= r)
        temp[k++] = a[j++];

    for (i = l; i <= r; i++)
        a[i] = temp[i];
}

void mergeSort(int a[], int l, int r)
{
    if (l < r)
    {
        int m = (l + r) / 2;
        mergeSort(a, l, m);
        mergeSort(a, m + 1, r);
        merge(a, l, m, r);
    }
}

void main()
{
    int n, a[50];
    clock_t start, end;

    clrscr();

    cout << "Enter the number of elements\n";
    cin >> n;

    cout << "Enter the elements\n";
    for (int i = 0; i < n; i++)
        cin >> a[i];

    start = clock();
    mergeSort(a, 0, n - 1);
    end = clock();

    cout << "Sorted elements are\n";
    for (int i = 0; i < n; i++)
        cout << a[i] << endl;

    cout << "Time Taken: "
         << (end - start) / CLK_TCK
         << " seconds\n";

    cout << "Space consumed: "
         << sizeof(a)
         << " bytes\n";

    getch();
}

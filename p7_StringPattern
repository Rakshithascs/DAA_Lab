#include <iostream.h>
#include <conio.h>
#include <string.h>

#define MAX 256

void main()
{
    char text[100], pattern[50];
    int shift[MAX];
    int n, m, i, j;

    clrscr();

    cout << "Enter the text\n";
    gets(text);

    cout << "Enter the pattern\n";
    gets(pattern);

    n = strlen(text);
    m = strlen(pattern);

    for (i = 0; i < MAX; i++)
        shift[i] = m;

    for (i = 0; i < m - 1; i++)
        shift[(int)pattern[i]] = m - 1 - i;

    i = m - 1;

    while (i < n)
    {
        j = 0;
        while (j < m && pattern[m - 1 - j] == text[i - j])
            j++;

        if (j == m)
        {
            cout << "Pattern found at position "
                 << i - m + 2 << endl;
            getch();
            return;
        }
        else
            i = i + shift[(int)text[i]];
    }

    cout << "Pattern not found\n";
    getch();
}
